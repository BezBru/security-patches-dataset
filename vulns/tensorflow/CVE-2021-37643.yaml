schema_version: 1.2.0
id: CVE-2021-37643
aliases:
- GHSA-fcwc-p4fc-c5cc
modified: 2021-08-18T15:45Z
published: 2021-08-12T19:15Z
details: TensorFlow is an end-to-end open source platform for machine learning. If
  a user does not provide a valid padding value to `tf.raw_ops.MatrixDiagPartOp`,
  then the code triggers a null pointer dereference (if input is empty) or produces
  invalid behavior, ignoring all values after the first. The [implementation](https://github.com/tensorflow/tensorflow/blob/8d72537c6abf5a44103b57b9c2e22c14f5f49698/tensorflow/core/kernels/linalg/matrix_diag_op.cc#L89)
  reads the first value from a tensor buffer without first checking that the tensor
  has values to read from. We have patched the issue in GitHub commit 482da92095c4d48f8784b1f00dda4f81c28d2988.
  The fix will be included in TensorFlow 2.6.0. We will also cherrypick this commit
  on TensorFlow 2.5.1, TensorFlow 2.4.3, and TensorFlow 2.3.4, as these are also affected
  and still in supported range.
severity:
- type: CVSS_V3
  score: 7.1
- type: CVSS_V2
  score: 3.6
affected:
- package:
    name: tensorflow
    cpe: cpe:2.3:a:google:tensorflow
- ranges:
  - type: GIT
    repo: https://github.com/tensorflow/tensorflow
    events:
    - introduced: '0'
    - fixed: 482da92095c4d48f8784b1f00dda4f81c28d2988
- versions:
  - 2.5.0
  - 2.6.0
- database_specific:
    CWE:
    - CWE-476
    CVSS:
      Score: 7.1
      Severity: HIGH
      Code: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:H/A:H
references:
- type: ADVISORY
  url: https://github.com/tensorflow/tensorflow/security/advisories/GHSA-fcwc-p4fc-c5cc
- type: FIX
  url: https://github.com/tensorflow/tensorflow/commit/482da92095c4d48f8784b1f00dda4f81c28d2988
