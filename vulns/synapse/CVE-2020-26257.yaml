schema_version: 1.2.0
id: CVE-2020-26257
aliases:
- GHSA-hxmp-pqch-c8mm
modified: 2020-12-19T03:15Z
published: 2020-12-09T19:15Z
details: Matrix is an ecosystem for open federated Instant Messaging and VoIP. Synapse
  is a reference "homeserver" implementation of Matrix. A malicious or poorly-implemented
  homeserver can inject malformed events into a room by specifying a different room
  id in the path of a `/send_join`, `/send_leave`, `/invite` or `/exchange_third_party_invite`
  request. This can lead to a denial of service in which future events will not be
  correctly sent to other servers over federation. This affects any server which accepts
  federation requests from untrusted servers. The Matrix Synapse reference implementation
  before version 1.23.1 the implementation is vulnerable to this injection attack.
  Issue is fixed in version 1.23.1. As a workaround homeserver administrators could
  limit access to the federation API to trusted servers (for example via `federation_domain_whitelist`).
severity:
- type: CVSS_V3
  score: 6.5
- type: CVSS_V2
  score: 4.0
affected:
- package:
    name: synapse
    cpe: cpe:2.3:a:matrix:synapse
- ranges:
  - type: GIT
    repo: https://github.com/matrix-org/synapse
    events:
    - introduced: '0'
    - fixed: 3ce2f303f15f6ac3dc352298972dc6e04d9b7a8b
- database_specific:
    CWE:
    - CWE-400
    CVSS:
      Score: 6.5
      Severity: MEDIUM
      Code: CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
references:
- type: WEB
  url: https://github.com/matrix-org/synapse/pull/8776
- type: ADVISORY
  url: https://github.com/matrix-org/synapse/security/advisories/GHSA-hxmp-pqch-c8mm
- type: WEB
  url: https://github.com/matrix-org/synapse/blob/develop/CHANGES.md#synapse-1231-2020-12-09
- type: WEB
  url: https://lists.fedoraproject.org/archives/list/package-announce@lists.fedoraproject.org/message/QR4MMYZKX5N5GYGH4H5LBUUC5TLAFHI7/
- type: FIX
  url: https://github.com/matrix-org/synapse/commit/3ce2f303f15f6ac3dc352298972dc6e04d9b7a8b
- type: WEB
  url: https://lists.fedoraproject.org/archives/list/package-announce@lists.fedoraproject.org/message/DBTIU3ZNBFWZ56V4X7JIAD33V5H2GOMC/
