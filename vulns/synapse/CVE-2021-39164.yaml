schema_version: 1.2.0
id: CVE-2021-39164
aliases:
- GHSA-3x4c-pq33-4w3q
modified: 2021-12-16T20:35Z
published: 2021-08-31T17:15Z
details: 'Matrix is an ecosystem for open federated Instant Messaging and Voice over
  IP. In versions 1.41.0 and prior, unauthorised users can access the membership (list
  of members, with their display names) of a room if they know the ID of the room.
  The vulnerability is limited to rooms with `shared` history visibility. Furthermore,
  the unauthorised user must be using an account on a vulnerable homeserver that is
  in the room. Server administrators should upgrade to 1.41.1 or later in order to
  receive the patch. One workaround is available. Administrators of servers that use
  a reverse proxy could, with potentially unacceptable loss of functionality, block
  the endpoints: `/_matrix/client/r0/rooms/{room_id}/members` with `at` query parameter,
  and `/_matrix/client/unstable/rooms/{room_id}/members` with `at` query parameter.'
severity:
- type: CVSS_V3
  score: 3.1
- type: CVSS_V2
  score: 3.5
affected:
- package:
    name: synapse
    cpe: cpe:2.3:a:matrix:synapse
- ranges:
  - type: GIT
    repo: https://github.com/matrix-org/synapse
    events:
    - introduced: '0'
    - fixed: cb35df940a
- database_specific:
    CWE:
    - CWE-200
    CVSS:
      Score: 3.1
      Severity: LOW
      Code: CVSS:3.1/AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:N/A:N
references:
- type: WEB
  url: https://lists.fedoraproject.org/archives/list/package-announce@lists.fedoraproject.org/message/2VHDEPCZ22GJFMZCWA2XZAGPOEV72POF/
- type: FIX
  url: https://github.com/matrix-org/synapse/commit/cb35df940a
- type: ADVISORY
  url: https://github.com/matrix-org/synapse/security/advisories/GHSA-3x4c-pq33-4w3q
- type: WEB
  url: https://lists.fedoraproject.org/archives/list/package-announce@lists.fedoraproject.org/message/PXT7ID7DNBRN2TVTETU3SYQHJKEG6PXN/
- type: WEB
  url: https://github.com/matrix-org/synapse/releases/tag/v1.41.1
