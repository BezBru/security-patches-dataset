# CVE Details

1. Scrape data for a specific year:
```
python3 scraper.py --mode=year --year=2022 \
                    --folder=../../data/cve-details/year/
```

2. Scrape data for several years (check the range of years inside the bash script):
```
source scrape_data.sh
```

3. Merge, clean and plot stats from CVE Details data:
```
source generate_data.sh
```
Output example:
```
Merging data scraped per year from the cve details database...
159650 CVEs saved to ../data/cve-details/raw-cve-details-data.csv

Getting the patches with references to github, bitbucket and gitlab...
159650it [00:07, 22685.74it/s]
6766 patches were saved to ../data/cve-details/all-cve-details-patches.csv

Cleaning the data...
6646 patches were saved to ../data/cve-details/all-cve-details-patches.csv

Generating data statistics...
---------------------------
commits (#)	patches (#)
---------------------------
1		5924
2		560
3		98
4		33
5		14
6		8
7		1
8		3
9		2
10		2
11		1
---------------------------
ğŸ‘€ n security patches where
performed using y commits
---------------------------

------------------------------------------------------
SOURCE		patches (#)	patches (%)
------------------------------------------------------
github		6500		97.80%
bitbucket	27		0.41%
gitlab		119		1.79%
------------------------------------------------------
```

4. Filter CVE Details data by source code hosting website (`github`, `bitbucket`, `gitlab`):

```
source filter_data_by_source.sh github
```

5. Plot stats for dataset:

```
python patches.py --task stats \
                    -fin ../data/cve-details/github-cve-details-patches.csv
```

Output:

```
---------------------------
commits (#)	patches (#)
---------------------------
1		5797
2		547
3		92
4		33
5		14
6		8
7		1
8		3
9		2
10		2
11		1
---------------------------
ğŸ‘€ n security patches where
performed using y commits
---------------------------

------------------------------------------------------
SOURCE		patches (#)	patches (%)
------------------------------------------------------
github		6500		100.00%
------------------------------------------------------
```